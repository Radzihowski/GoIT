# –ß–µ—Ç–≤–µ—Ä—Ç–µ –∑–∞–≤–¥–∞–Ω–Ω—è

# –£ –º–µ–∂–∞—Ö –≤–∞—à–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó, –≤–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—Ç–µ –∑–∞ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—é –ø—Ä–∏–≤—ñ—Ç–∞–Ω—å –∫–æ–ª–µ–≥ –∑ –¥–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è. –©–æ–± –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Ü–µ–π –ø—Ä–æ—Ü–µ—Å, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é get_upcoming_birthdays, —è–∫–∞ –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –≤–∏–∑–Ω–∞—á–∞—Ç–∏, –∫–æ–≥–æ –∑ –∫–æ–ª–µ–≥ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏–≤—ñ—Ç–∞—Ç–∏.

# –£ –≤–∞—à–æ–º—É —Ä–æ–∑–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—ñ —î —Å–ø–∏—Å–æ–∫ users, –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —è–∫–æ–≥–æ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –π–æ–≥–æ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è. –û—Å–∫—ñ–ª—å–∫–∏ –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –∫–æ–ª–µ–≥ –º–æ–∂—É—Ç—å –ø—Ä–∏–ø–∞–¥–∞—Ç–∏ –Ω–∞ –≤–∏—Ö—ñ–¥–Ω—ñ, –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü—ñ—è —Ç–∞–∫–æ–∂ –ø–æ–≤–∏–Ω–Ω–∞ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ —Ü–µ —Ç–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ –¥–∞—Ç—É –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä–æ–±–æ—á–∏–π –¥–µ–Ω—å, —è–∫—â–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ.

# –í–∏–º–æ–≥–∏ –¥–æ –∑–∞–≤–¥–∞–Ω–Ω—è:
# - –ü–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü—ñ—ó users - —Ü–µ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–Ω–∏–∫—ñ–≤, –¥–µ –∫–æ–∂–µ–Ω —Å–ª–æ–≤–Ω–∏–∫ –º—ñ—Å—Ç–∏—Ç—å –∫–ª—é—á—ñ name (—ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Ä—è–¥–æ–∫) —Ç–∞ birthday (–¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, —Ä—è–¥–æ–∫ —É —Ñ–æ—Ä–º–∞—Ç—ñ '—Ä—ñ–∫.–º—ñ—Å—è—Ü—å.–¥–∞—Ç–∞').
# - –§—É–Ω–∫—Ü—ñ—è –º–∞—î –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏—ó –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –≤–∏–ø–∞–¥–∞—é—Ç—å –≤–ø–µ—Ä–µ–¥ –Ω–∞ 7 –¥–Ω—ñ–≤ –≤–∫–ª—é—á–∞—é—á–∏ –ø–æ—Ç–æ—á–Ω–∏–π –¥–µ–Ω—å. –Ø–∫—â–æ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–∏–ø–∞–¥–∞—î –Ω–∞ –≤–∏—Ö—ñ–¥–Ω–∏–π, –¥–∞—Ç–∞ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å—Å—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –ø–æ–Ω–µ–¥—ñ–ª–æ–∫.
# - –§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–Ω–∏–∫—ñ–≤, –¥–µ –∫–æ–∂–µ–Ω —Å–ª–æ–≤–Ω–∏–∫ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∫–ª—é—á name) —Ç–∞ –¥–∞—Ç—É –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è (–∫–ª—é—á congratulation_date, –¥–∞–Ω—ñ —è–∫–æ–≥–æ —É —Ñ–æ—Ä–º–∞—Ç—ñ —Ä—è–¥–∫–∞ '—Ä—ñ–∫.–º—ñ—Å—è—Ü—å.–¥–∞—Ç–∞').
#
# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:
# - –ü—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ –≤–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ —Å–ø–∏—Å–æ–∫ users, –¥–µ –∫–æ–∂–µ–Ω —Å–ª–æ–≤–Ω–∏–∫ –º—ñ—Å—Ç–∏—Ç—å name (—ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞) —Ç–∞ birthday (–¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —É —Ñ–æ—Ä–º–∞—Ç—ñ —Ä—è–¥–∫–∞ '—Ä—ñ–∫.–º—ñ—Å—è—Ü—å.–¥–∞—Ç–∞'). –í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∞—Ç–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –∑ —Ä—è–¥–∫—ñ–≤ —É –æ–±'—î–∫—Ç–∏ datetime. –ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ –¥–∞—Ç—É –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —ñ–∑ —Ä—è–¥–∫–∞ —É datetime –æ–±'—î–∫—Ç - datetime.strptime(user["birthday"], "%Y.%m.%d").date(). –û—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–∏—à–µ –¥–∞—Ç–∞ (–±–µ–∑ —á–∞—Å—É), –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ .date() –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –¥–∞—Ç–∏.
# - –í–∏–∑–Ω–∞—á—Ç–µ –ø–æ—Ç–æ—á–Ω—É –¥–∞—Ç—É —Å–∏—Å—Ç–µ–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é datetime.today().date().
# - –ü—Ä–æ–π–¥—ñ—Ç—å—Å—è –ø–æ —Å–ø–∏—Å–∫—É users —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–π—Ç–µ –¥–∞—Ç–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (for user in users:).
# - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤–∂–µ –º–∏–Ω—É–≤ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –≤ —Ü—å–æ–º—É —Ä–æ—Ü—ñ (if birthday_this_year < today). –Ø–∫—â–æ —Ç–∞–∫, —Ä–æ–∑–≥–ª—è–Ω—å—Ç–µ –¥–∞—Ç—É –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–∫.
# - –í–∏–∑–Ω–∞—á—Ç–µ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –¥–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —Ç–∞ –ø–æ—Ç–æ—á–Ω–∏–º –¥–Ω–µ–º –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–Ω—ñ–≤ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ç–∏–∂–¥–µ–Ω—å.
# - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–∏–ø–∞–¥–∞—î –Ω–∞ –≤–∏—Ö—ñ–¥–Ω–∏–π. –Ø–∫—â–æ —Ç–∞–∫, –ø–µ—Ä–µ–Ω–µ—Å—ñ—Ç—å –¥–∞—Ç—É –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –ø–æ–Ω–µ–¥—ñ–ª–æ–∫.
# - –°—Ç–≤–æ—Ä—ñ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –¥–∞—Ç—É –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è, —è–∫—â–æ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—Ä–æ—Ç—è–≥–æ–º –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ç–∏–∂–Ω—è.
# - –í–∏–≤–µ–¥—ñ—Ç—å –∑—ñ–±—Ä–∞–Ω—ñ –¥–∞–Ω—ñ —É –≤–∏–≥–ª—è–¥—ñ —Å–ø–∏—Å–∫—É —Å–ª–æ–≤–Ω–∏–∫—ñ–≤ –∑ —ñ–º–µ–Ω–∞–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –¥–∞—Ç–∞–º–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω—å.
#
# –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è:
# –ê–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–Ω—ñ–≤ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –Ω–∞ 7 –¥–Ω—ñ–≤ –≤–ø–µ—Ä–µ–¥.
# –ü—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –≤–∏–ø–∞–¥–∫—ñ–≤, –∫–æ–ª–∏ –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–∏–ø–∞–¥–∞—é—Ç—å –Ω–∞ –≤–∏—Ö—ñ–¥–Ω—ñ.
# –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ—Å—Ç—å –∫–æ–¥—É.
#
# –ü—Ä–∏–∫–ª–∞–¥:
# –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, —É –≤–∞—Å —î —Å–ø–∏—Å–æ–∫ users:
# users = [
#     {"name": "John Doe", "birthday": "1985.01.23"},
#     {"name": "Jane Smith", "birthday": "1990.01.27"}
# ]
#
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó get_upcoming_birthdays:
# upcoming_birthdays = get_upcoming_birthdays(users)
# print("–°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ñ—Ç–∞–Ω—å –Ω–∞ —Ü—å–æ–º—É —Ç–∏–∂–Ω—ñ:", upcoming_birthdays)
#
# –Ø–∫—â–æ —Å—å–æ–≥–æ–¥–Ω—ñ 2024.01.22 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –º–æ–∂–µ –±—É—Ç–∏:
# [
#     {'name': 'John Doe', 'congratulation_date': '2024.01.23'},
#     {'name': 'Jane Smith', 'congratulation_date': '2024.01.29'}
# ]
#

# –¶–µ–π —Å–ø–∏—Å–æ–∫ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–µ, –∫–æ–≥–æ —ñ –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏–≤—ñ—Ç–∞—Ç–∏ –∑ –¥–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–º—É —Ç–∏–∂–Ω—ñ.

# –§–æ—Ä–º–∞—Ç –∑–¥–∞—á—ñ –î–ó
# üìå–†–æ–∑–º—ñ—Å—Ç—ñ—Ç—å —Ñ–∞–π–ª–∏ –∑ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è–º —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó goit-algo-hw-03, —Ç–∞ –ø—Ä–∏–∫—Ä—ñ–ø—ñ—Ç—å –ª—ñ–Ω–∫–∏ –¥–æ –Ω–∏—Ö —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è.
# –§–æ—Ä–º–∞—Ç –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è
# –ó–∞–ª—ñ–∫/–Ω–µ–∑–∞–ª—ñ–∫

from datetime import datetime, timedelta

users = [
    {"name": "John Doe", "birthday": "1985.03.15"},
    {"name": "John David", "birthday": "1985.03.17"},
    {"name": "Jane Smith", "birthday": "1990.03.20"}
]
print(users)
# –î—Ä—É–≥–∞ —Ñ—É–Ω–∫—Ü—ñ—è
prepared_users = []
for user in users:
    try:
        birthday = datetime.strptime(user['birthday'], "%Y.%m.%d").date()
        prepared_users.append({"name": user['name'], 'birthday': birthday})
    except ValueError:
        print(f'–ù–µ–∫–æ—Ä–µ–∫—Ç–∞ –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ {user["name"]}')

print(prepared_users)

# –î—Ä—É–≥–∞ —Ñ—É–Ω–∫—Ü—ñ—è
def find_next_weekday(d, weekday: int):
    """
    –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –¥–Ω—è —Ç–∏–∂–¥–Ω—è –ø—ñ—Å–ª—è –∑–∞–¥–∞–Ω–æ—ñ –¥–∞—Ç–∏
    :param d: datatime.date - –ø–æ—á–∞—Ç–∫–æ–≤–∞ –¥–∞—Ç–∞
    :param weekday: int - –¥–µ–Ω—å —Ç–∏–∂–¥–Ω—è –≤—ñ–¥ 0(–ø–æ–Ω–µ–¥—ñ–ª–æ–∫) –¥–æ 6(–Ω–µ–¥—ñ–ª—è)
    :return: –±—É–¥–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Ü—é —Ä—ñ–∑–Ω–∏—Ü—é
    """

    days_ahead = weekday - d.weekday
    if days_ahead <= 0:  # –Ø–∫—â–æ –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –≤–∂–µ –º–∏–Ω—É–≤
        days_ahead += 7
    return d + timedelta(days=days_ahead)









